# Claude Code カスタムコマンド

このディレクトリには、プロジェクト固有のClaude Codeカスタムコマンドが含まれています。

## 利用可能なコマンド

### 📋 `/review-design-doc` - 設計書レビュー

**用途**: 設計書をCLAUDE.mdのガイドラインに基づいてレビュー

**使用方法**:
```bash
/review-design-doc docs/design/backend/01-architecture.md
```

**出力**:
- ✅ 良い点
- ⚠️ 改善提案（具体的な修正方法付き）
- 📊 評価スコア（1-5段階）
- 💡 修正例

**レビュー観点**:
- コード例の適切性（5-15行以内か）
- 構成の適切性（概要、責務、図表）
- 説明の重点（「なぜ」が明確か）
- ドキュメントの粒度

---

### 🔧 `/fix-design-doc` - 設計書の自動修正

**用途**: 設計書をガイドラインに従って自動修正

**使用方法**:
```bash
/fix-design-doc docs/design/backend/01-architecture.md
```

**動作**:
1. 現状分析と問題点の特定
2. 修正計画の提示
3. ユーザー承認待ち（プランモード）
4. 承認後に自動修正実行

**修正内容**:
- 長いコード例を簡略化（インターフェース定義のみに）
- 構成の改善（概要、責務の追加）
- 「なぜ」の説明を強化
- 実装詳細を削減

**⚠️ 注意**: 元ファイルを上書きするため、事前に`git commit`を推奨

---

## コマンドの作り方

新しいカスタムコマンドを作成する場合：

1. このディレクトリに `.md` ファイルを作成
2. コマンド名は`/ファイル名`で呼び出せる
3. Markdownでプロンプトを記述

**例**:
```markdown
<!-- .claude/commands/my-command.md -->
# My Custom Command

このコマンドは〇〇を実行します。

## 手順
1. ...
2. ...
```

このファイルを作成すると、`/my-command` で呼び出せるようになります。

---

## 設計書ガイドラインとの連携

これらのコマンドは `CLAUDE.md` の「設計書作成ガイドライン」セクションに基づいています。

### ルール vs コマンドの使い分け

| 用途 | 使用する機能 | 理由 |
|-----|-------------|------|
| 恒久的なガイドライン | `CLAUDE.md`（ルール） | 常に適用、チーム共有 |
| 反復的なタスク | `.claude/commands/`（コマンド） | 必要な時に実行 |

### ガイドラインの確認

設計書作成ガイドラインの詳細は `CLAUDE.md` を参照してください。

---

## トラブルシューティング

### コマンドが表示されない

1. `.claude/commands/` ディレクトリが存在するか確認
2. ファイルが `.md` 拡張子か確認
3. Claude Codeを再起動

### コマンドが期待通り動作しない

1. `CLAUDE.md` のガイドラインが最新か確認
2. コマンドファイルの内容を確認
3. プランモードで実行しているか確認（`/fix-design-doc`の場合）

---

## 参考リンク

- [Claude Code公式ドキュメント](https://docs.claude.com/en/docs/claude-code)
- [カスタムコマンドガイド](https://docs.claude.com/en/docs/claude-code/slash-commands)
